;=====================================================
;
;   To learn more about how to configure Polybar
;   go to https://github.com/jaagr/polybar
;
;   The README contains alot of information
;
;=====================================================

[colors]
background = ${xrdb:background}
;background = #ee2f343f
background-alt = ${xrdb:background}
foreground = ${xrdb:foreground}
foreground-alt = ${xrdb:color6}
foreground-dim = ${xrdb:color1}
primary = ${xrdb:color9}
secondary = ${xrdb:color4}
high = ${xrdb:color1}
high-alt =${xrdb:color1}
alert = ${xrdb:color1}



[bar/top]
;monitor = ${env:MONITOR:DP-0}
width = 100%
height = 18
offset-x = 0
offset-y = 0
radius = 0
fixed-center = true

locale= en_GB.UTF-8

;background =#dd03142C
foreground = ${colors.foreground}
background = ${colors.background}

line-size = 3
line-color = #f00

border-left-size = 0
border-right-size = 0
border-bottom-size = 0
border-top-size=0
border-color = ${colors.foreground}

padding-left = 2
padding-right = 2

module-margin-left = 1
module-margin-right = 1


font-2 = siji:size=11;1
font-0 = "Iosevka Term:size=9;3"
font-1 = "FontAwesome:size=9;4"


modules-left = i3  
modules-center = date 
modules-right =  cpu memory wired-network wireless-network volume
  
# Position of the system tray window
# If empty or undefined, tray support will be disabled
# NOTE: A center aligned tray will cover center aligned modules
#
# Available positions:
#   left
#   center
#   right
#   none
tray-position = right

# If true, the bar will not shift its
# contents when the tray changes
tray-detached = false

# Tray icon max size
tray-maxsize = 16

# Background color for the tray container
# ARGB color (e.g. #f00, #ff992a, #ddff1023)
# By default the tray container will use the bar
# background color.
tray-background = ${bar/top.background}

# Tray offset defined as pixel value (e.g. 35) or percentage (e.g. 50%)
tray-offset-x = 0
tray-offset-y = 0

# Pad the sides of each tray icon
tray-padding = 5

# Scale factor for tray clients
tray-scale = 1.0





;tray-transparent = true
;tray-background = ${colors.background}

;wm-restack = bspwm
;wm-restack = i3

override-redirect = false
;scroll-up = bspwm-desknext
;scroll-down = bspwm-deskprev

;scroll-up = i3wm-wsnext
;scroll-down = i3wm-wsprev

cursor-click = pointer
cursor-scroll = ns-resize





[module/xwindow]
type = internal/xwindow
label = %title:0:30:...%

[module/xkeyboard]
type = internal/xkeyboard
blacklist-0 = num lock

format-prefix = " "
format-prefix-foreground = ${colors.foreground-dim}
format-prefix-underline = ${colors.secondary}

label-layout = %layout%
label-layout-underline = ${colors.secondary}

label-indicator-padding = 2
label-indicator-margin = 1
label-indicator-background = ${colors.secondary}
label-indicator-underline = ${colors.secondary}

[module/filesystem]
type = internal/fs
interval = 25

mount-0 = /mnt

label-mounted = Storage: %{F#0a81f5}%mountpoint%%{F-}: %percentage_used%%
label-unmounted = %mountpoint% not mounted
label-unmounted-foreground = ${colors.foreground-dim}


[module/i3]
type = internal/i3
format = <label-state> <label-mode>
index-sort = true
wrapping-scroll = false

; Only show workspaces on the same output as the bar
;pin-workspaces = true

label-mode-padding = 2
label-mode-foreground = #000
label-mode-background = ${colors.primary}

; focused = Active workspace on focused monitor
label-focused=%index%
label-focused-background = ${module/bspwm.label-focused-background}
label-focused-underline = ${module/bspwm.label-focused-underline}
label-focused-padding = ${module/bspwm.label-focused-padding}

; unfocused = Inactive workspace on any monitor
label-unfocused = %index%
label-unfocused-padding = ${module/bspwm.label-occupied-padding}

; visible = Active workspace on unfocused monitor
label-visible = %index%
label-visible-background = ${self.label-focused-background}
label-visible-underline = ${self.label-focused-underline}
label-visible-padding = ${self.label-focused-padding}

; urgent = Workspace with urgency hint set
label-urgent = %index%
label-urgent-background = ${module/bspwm.label-urgent-background}
label-urgent-padding = ${module/bspwm.label-urgent-padding}

[module/mpd]
type = internal/mpd
format-online        = <label-song>%{A} <icon-prev> <icon-stop> <toggle> <icon-next> 
format-offline       = <label-offline>
bar-progress-format  = %{+o +u}%fill%%{-o -u}%indicator%%{+o +u}%empty%%{-u -o}
label-offline        = mpd is off
label-song = %title% - %artist% 

icon-prev =
icon-stop = 
icon-play = 
icon-pause = 
icon-next = 
host = 127.0.0.1
port = 6600
password = 
label-song-maxlen = 50
label-song-ellipsis = true

[module/cpu]
type = internal/cpu

; Seconds to sleep between updates
; Default: 1
interval = 0.5

label = | CPU %percentage%% |

[module/memory]
type = internal/memory
format = <label>
# <bar-used>
label = |RAM %gb_used%|

[module/wired-network]
type = internal/network
interface = enp4s0
format-connected = <label-connected>
format-disconnected = <label-disconnected>
label-connected = |LAN %local_ip%|
label-disconnected = |LAN OFF|

[module/wireless-network]
type = internal/network
interface = wlp8s0
format-connected = <label-connected>
format-disconnected = <label-disconnected>
label-connected = |WLAN %local_ip%|
label-disconnected = |WLAN OFF|



[module/date]
type = internal/date
interval = 10

date =%a %e %B, %H:%M
format-padding = 0
label = %date% %time%

[module/volume]
type = internal/pulseaudio
master-mixer = Master
format-volume = <label-volume> 
label-volume = |VOL %percentage% % |
label-volume-foreground = ${root.foreground}

format-muted-prefix = " "
format-muted-foreground = ${colors.foreground-dim}
label-muted = sound muted
master-soundcard=hw:1


bar-volume-width = 10
bar-volume-foreground-0 = #55aa55
bar-volume-foreground-1 = #55aa55
bar-volume-foreground-2 = #55aa55
bar-volume-foreground-3 = #55aa55
bar-volume-foreground-4 = #55aa55
bar-volume-foreground-5 = #f5a70a
bar-volume-foreground-6 = #ff5555
bar-volume-gradient = false
bar-volume-indicator = |
bar-volume-indicator-font = 2
bar-volume-fill = ─
bar-volume-fill-font = 2
bar-volume-empty = ─
bar-volume-empty-font = 2
bar-volume-empty-foreground = ${colors.foreground-dim}

[settings]
screenchange-reload = true
;compositing-background = xor
;compositing-background = screen
;compositing-foreground = source
;compositing-border = over

[global/wm]
margin-top = 5
margin-bottom = 5

; vim:ft=dosini

[module/pulseaudio-tail]
type = custom/script

enable-scroll = true

exec = ~/.config/polybar/pulseaudio-tail.sh
tail = true
click-right = exec pavucontrol &
click-left = ~/.config/polybar/pulseaudio-tail.sh --mute
scroll-up = ~/.config/polybar/pulseaudio-tail.sh --up
scroll-down = ~/.config/polybar/pulseaudio-tail.sh --down

